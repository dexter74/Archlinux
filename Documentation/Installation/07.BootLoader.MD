**Note**
```
Add the keymap hook if you are not using the default US keymap.
```

----------------------------------------------------------------------------------------------------------------------------------------------------------------------
**Ajoute la prise en charge LVM2 et SystemD**
```bash
sed -i -e "s/HOOKS\=(base udev autodetect modconf block filesystems keyboard fsck)/HOOKS\=(base systemd autodetect modconf block lvm2 filesystems keyboard fsck)/g" /etc/mkinitcpio.conf ;
```

----------------------------------------------------------------------------------------------------------------------------------------------------------------------
**Appliquer les changements**
```bash
mkinitcpio -p linux ;
```

----------------------------------------------------------------------------------------------------------------------------------------------------------------------
**Déclarer une Variables**
```bash
UUID_SYSTEM=$(blkid | grep "SYSTEM: UUID=" | cut -d '"' -f 2) ;
```

----------------------------------------------------------------------------------------------------------------------------------------------------------------------
**Installation EFI**
```bash
bootctl install ;
```

----------------------------------------------------------------------------------------------------------------------------------------------------------------------
**Loader**
```bash
echo "default  arch.*" > /boot/loader/loader.conf ;
```

----------------------------------------------------------------------------------------------------------------------------------------------------------------------
**AMD** (/boot/*.img)
```bash
echo "title Arch Linux
linux /vmlinuz-linux
initrd /amd-ucode.img
initrd /initramfs-linux.img
options root=UUID=$UUID_SYSTEM rw" > /boot/loader/entries/arch.conf ;

echo "title   Arch Linux (fallback initramfs)
linux   /vmlinuz-linux
initrd  /amd-ucode.img
initrd  /initramfs-linux-fallback.img
options root=$UUID_SYSTEM rw" > /boot/loader/entries/arch-fallback.conf ;
```
```
  quiet vga=current splash
```

**Intel**
```bash
echo "title Arch Linux
linux /vmlinuz-linux
initrd /initramfs-linux.img
initrd /intel-ucode.img
options root=UUID=$UUID_SYSTEM rw" > /boot/loader/entries/arch.conf ;

echo "title Arch Linux (fallback initramfs)
linux /vmlinuz-linux
initrd /intel-ucode.img
initrd /initramfs-linux-fallback.img
options root=UUID=$UUID_SYSTEM rw" > /boot/loader/entries/arch.conf ;
```

----------------------------------------------------------------------------------------------------------------------------------------------------------------------
**Vérifier le BootLoader**
```bash
bootctl list ;
```

----------------------------------------------------------------------------------------------------------------------------------------------------------------------
**Purge History**
```bash
history -c ;
```



----------------------------------------------------------------------------------------------------------------------------------------------------------------------
**Quitter le CHROOT**
```bash
exit ;
```


**Redémarrer**
```bash
systemctl reboot ;
```




```
Note: 
# bootctl systemd-efi-options XXXXX
# bootctl random-seed ;
```
