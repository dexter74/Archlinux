# Configuration des services :

----------------------------------------------------------------------------------------------------------------
### I . Désactivation des services (Précaution)

```bash
systemctl disable NetworkManager ;
systemctl disable systemd-networkd ;
systemctl disable systemd-resolved ;
systemctl disable wpa_supplicant ;
systemctl disable iwd ;
```

----------------------------------------------------------------------------------------------------------------
### II. Configuration et activation du Service de résolution DNS (Resolved)

##### A. Configuration (/etc/systemd/resolved.conf)
```bash
[Resolve]
DNS=192.168.1.1
DNS=192.168.1.40
```

#### B. Création du Liens
```bash
rm /etc/resolv.conf ;
ln -s /etc/systemd/resolved.conf /etc/resolv.conf ;
```

#### C. Activation du service
```bash
systemctl enable systemd-resolved ;
```

#### D. Vérification du status du service
```bash
systemctl status systemd-resolved ;
```

----------------------------------------------------------------------------------------------------------------
### III. Configuration et activation du service Systemd-NetworkD :

##### A. Création du dossier network:
```bash
mkdir /etc/systemd/network ;
```

##### B. Configuration en Ethernet (/etc/systemd/network/20-eth0.network)

```bash
[Match]
Name=eth0

[Network]
DHCP=ipv4
```

##### C. Configuration en Ethernet (/etc/systemd/network/20-wlan0.network)

```bash
[Match]
Name=wlan0

[Network]
DHCP=ipv4
```

##### D. Activation du service
```bash
systemctl enable systemd-networkd ;
```

#### E. Vérification du status du service
```bash
systemctl status systemd-networkd ;
```

----------------------------------------------------------------------------------------------------------------
### III. Configuration et activation du service  wpa_supplicant 

##### A. Configuration du service (/etc/wpa_supplicant/wpa_supplicant-wlan0.conf)

WPA2-PSK :
```bash
ctrl_interface=/var/run/wpa_supplicant
ctrl_interface_group=0
eapol_version=2
ap_scan=1
fast_reauth=1
network={
	SSID="NOM_DE_MON_RESEAU"
	psk="MACLESECRETE"
	priority=5
	}
```

##### B. Convertir la Clé en HASH

```bash
wpa_passphrase <SSID> <mapassphrase> >> /etc/wpa_supplicant/wpa_supplicant-wlan0.conf ;
```

##### C. Activation du service
```bash
systemctl enable wpa_supplicant@wlan0 ;
```

##### D. Etat du service
```bash
systemctl status wpa_supplicant@wlan0 ;
```
